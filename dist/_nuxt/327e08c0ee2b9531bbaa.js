(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{389:function(t,e,r){var content=r(390);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(13).default)("7c06aa28",content,!0,{sourceMap:!1})},390:function(t,e,r){(e=r(12)(!1)).push([t.i,".theme--light.v-data-table{background-color:#fff;color:rgba(0,0,0,.87)}.theme--light.v-data-table .v-data-table__divider{border-right:thin solid rgba(0,0,0,.12)}.theme--light.v-data-table.v-data-table--fixed-header thead th{background:#fff;box-shadow:inset 0 -1px 0 rgba(0,0,0,.12)}.theme--light.v-data-table thead tr:last-child th{border-bottom:thin solid rgba(0,0,0,.12)}.theme--light.v-data-table thead tr th{color:rgba(0,0,0,.6)}.theme--light.v-data-table tbody tr:not(:last-child) td:last-child,.theme--light.v-data-table tbody tr:not(:last-child) td:not(.v-data-table__mobile-row),.theme--light.v-data-table tbody tr:not(:last-child) th:last-child,.theme--light.v-data-table tbody tr:not(:last-child) th:not(.v-data-table__mobile-row){border-bottom:thin solid rgba(0,0,0,.12)}.theme--light.v-data-table tbody tr.active{background:#f5f5f5}.theme--light.v-data-table tbody tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper){background:#eee}.theme--dark.v-data-table{background-color:#1e1e1e;color:#fff}.theme--dark.v-data-table .v-data-table__divider{border-right:thin solid hsla(0,0%,100%,.12)}.theme--dark.v-data-table.v-data-table--fixed-header thead th{background:#1e1e1e;box-shadow:inset 0 -1px 0 hsla(0,0%,100%,.12)}.theme--dark.v-data-table thead tr:last-child th{border-bottom:thin solid hsla(0,0%,100%,.12)}.theme--dark.v-data-table thead tr th{color:hsla(0,0%,100%,.7)}.theme--dark.v-data-table tbody tr:not(:last-child) td:last-child,.theme--dark.v-data-table tbody tr:not(:last-child) td:not(.v-data-table__mobile-row),.theme--dark.v-data-table tbody tr:not(:last-child) th:last-child,.theme--dark.v-data-table tbody tr:not(:last-child) th:not(.v-data-table__mobile-row){border-bottom:thin solid hsla(0,0%,100%,.12)}.theme--dark.v-data-table tbody tr.active{background:#505050}.theme--dark.v-data-table tbody tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper){background:#616161}.v-data-table table{width:100%;border-spacing:0}.v-data-table td,.v-data-table th{padding:0 16px}.v-data-table th{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:.75rem;height:48px}.v-application--is-ltr .v-data-table th{text-align:left}.v-application--is-rtl .v-data-table th{text-align:right}.v-data-table td{font-size:.875rem;height:48px}.v-data-table__wrapper{overflow-x:auto;overflow-y:hidden}.v-data-table__progress{height:auto!important}.v-data-table__progress .v-progress-linear{position:absolute}.v-data-table__progress th{height:auto!important;border:none!important;padding:0;position:relative}.v-data-table--dense td{height:24px}.v-data-table--dense th{height:32px}.v-data-table--fixed-header .v-data-table__wrapper,.v-data-table--fixed-height .v-data-table__wrapper{overflow-y:auto}.v-data-table--fixed-header thead th{border-bottom:0!important;position:-webkit-sticky;position:sticky;top:0;z-index:2}.v-data-table--fixed-header thead tr:nth-child(2) th{top:48px}.v-application--is-ltr .v-data-table--fixed-header .v-data-footer{margin-right:17px}.v-application--is-rtl .v-data-table--fixed-header .v-data-footer{margin-left:17px}.v-data-table--fixed.v-data-table--dense thead tr:nth-child(2) th{top:32px}",""]),t.exports=e},406:function(t,e,r){"use strict";r(14),r(8),r(6),r(4),r(10);var n=r(2),l=(r(19),r(389),r(0)),o=r(16),c=r(5);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}e.a=Object(c.a)(o.a).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes:function(){return function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader},this.themeClasses)}},methods:{genWrapper:function(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:Object(l.g)(this.height)}},[this.$createElement("table",this.$slots.default)])}},render:function(t){return t("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}})},448:function(t,e,r){var n=r(21);n(n.P,"Array",{fill:r(449)}),r(99)("fill")},449:function(t,e,r){"use strict";var n=r(70),l=r(220),o=r(56);t.exports=function(t){for(var e=n(this),r=o(e.length),c=arguments.length,d=l(c>1?arguments[1]:void 0,r),v=c>2?arguments[2]:void 0,h=void 0===v?r:l(v,r);h>d;)e[d++]=t;return e}},469:function(t,e,r){"use strict";r.r(e);r(39);var n=r(11),l=(r(69),r(219),r(448),r(84),r(54),r(55),r(4),r(28),r(19),{filters:{currency:function(t){var e=Number(t)<0;if(null==t||""===t)return"Rp 0";if(t.toString().split(".").length>2)return"Rp ~";t.toString().split(".").length>1&&(t=(t=t.toString().split("."))[0]);try{return"Rp "+(!0===e?"-":"")+t.toString().match(/\d{1,3}(?=(\d{3})*$)/g).join(".")}catch(t){return"Rp ~"}},capitalize:function(t){return t?(t=t.toString().split(" ").map((function(element){return element.charAt(0).toUpperCase()+element.slice(1)}))).join(" "):""}},data:function(){var t=this;return{alert:!1,success:!1,messages:"",loading:{buttonStore:!1,formRequest:!1},valid:!0,input:{budgets:[{id:null,nominal:null,balance:null}],request:{number:null,details:[]},allocation:null,use:null,balance:null,notes:null},form:{request:[]},rules:{positive:function(e){return e>=0||"".concat(t.$translate("text.positive","capitalize"))},required:function(e){return!!e||"".concat(t.$translate("text.required","capitalize"))}},currentRequest:{},modal:{request:!1}}},watch:{"input.use":function(){isNaN(this.input.request.amount)||isNaN(this.input.use)||this.input.request&&(this.input.balance=this.input.request.amount-this.input.use)}},mounted:function(){this.getAllRequestForms()},methods:{setArrayBudgets:function(){this.input.request&&(this.input.budgets=this.$copy(Array.from({length:this.input.request.details.length}).fill({id:null,nominal:null,balance:null})))},calculateTotalUse:function(){for(var t=0,i=0;i<this.input.budgets.length;i++)isNaN(this.input.budgets[i].nominal)||null==this.input.budgets[i].nominal?t+=0:t+=parseInt(this.input.budgets[i].nominal,10);this.input.use=t},setSingleBudget:function(i){null===i||i>=this.input.budgets.length||(this.input.budgets[i].balance=this.input.request.details[i].nominal-this.input.budgets[i].nominal,this.input.budgets[i].id=this.input.request.details[i].budget_code_id,this.calculateTotalUse())},showRequest:function(){null!=this.input.request&&(this.modal.request=!0,this.currentRequest=this.$copy(this.input.request))},storeSubmission:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$refs.form.validate()){e.next=5;break}return t.success=!1,t.messages="".concat(t.$translate("alert.formSubmission.error","capitalize")),t.alert=!0,e.abrupt("return");case 5:return e.prev=5,t.loading.buttonStore=!0,e.next=9,t.$api("submission","store",t.input).finally((function(e){return t.loading.buttonStore=!1,e}));case 9:201===e.sent.status?(t.success=!0,t.messages="".concat(t.$translate("alert.formSubmission.success","capitalize")),t.alert=!0,t.$refs.form.reset()):(t.success=!1,t.messages="".concat(t.$translate("alert.formSubmission.failed","capitalize")),t.alert=!0),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(5),t.success=!1,t.messages="".concat(t.$translate("alert.error","capitalize"))+e.t0.toString(),t.alert=!0;case 18:case"end":return e.stop()}}),e,null,[[5,13]])})))()},getAllRequestForms:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.loading.formRequest=!0,e.next=4,t.$api("request","index",null).finally((function(){return t.loading.formRequest=!1}));case 4:t.form.request=e.sent,t.form.request=t.form.request.filter((function(form){return 4===parseInt(form.status_id,10)})),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),t.success=!1,t.messages="".concat(t.$translate("alert.error","capitalize"))+e.t0.toString(),t.alert=!0;case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))()}}}),o=r(29),c=r(34),d=r.n(c),v=r(163),h=r(151),m=r(53),f=r(363),_=r(453),x=r(366),y=r(376),$=r(355),k=r(386),w=r(364),z=r(406),C=r(387),R=r(456),component=Object(o.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-card",{staticClass:"mx-5 py-5 front-card",attrs:{color:"primary",dark:"",raised:""}},[r("v-card-title",{staticClass:"text-uppercase"},[t._v(t._s(t.$translate("components.form.title.submission")))]),t._v(" "),r("v-card-subtitle",{staticClass:"overline"},[t._v(t._s(t.$translate("components.form.subtitle.submission")))])],1),t._v(" "),r("v-card",{staticClass:"back-card px-md-5",attrs:{raised:""}},[r("v-card-text",[r("div",{staticClass:"spacing-medium"}),t._v(" "),r("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-row",[r("v-col",{attrs:{cols:"12",md:"6"}},[r("div",{staticClass:"caption primary--text text-capitalize"},[t._v("\n              "+t._s(t.$translate("text.form")+" "+t.$translate("text.request"))+"\n            ")]),t._v(" "),r("v-combobox",{attrs:{"prepend-inner-icon":"mdi-newspaper-plus","append-outer-icon":"mdi-eye",items:t.form.request,"item-text":"number","item-value":"number",solo:"",rules:[t.rules.required],label:t.$translate("text.number","capitalize"),clearable:"","auto-select-first":"","cache-items":"","return-object":"",loading:t.loading.formRequest},on:{change:function(e){return t.setArrayBudgets()},"click:append-outer":function(e){return t.showRequest(t.input.request)}},model:{value:t.input.request,callback:function(e){t.$set(t.input,"request",e)},expression:"input.request"}})],1),t._v(" "),r("v-col",{attrs:{cols:"12",md:"6"}},[r("div",{staticClass:"caption primary--text text-capitalize"},[t._v("\n              "+t._s(t.$translate("text.allocation"))+"\n            ")]),t._v(" "),r("v-text-field",{attrs:{"prepend-inner-icon":"mdi-basket",solo:"",rules:[t.rules.required],label:t.$translate("text.allocation","capitalize"),clearable:"",counter:""},model:{value:t.input.allocation,callback:function(e){t.$set(t.input,"allocation",e)},expression:"input.allocation"}})],1)],1),t._v(" "),t.input.request?[r("v-row",[t._l(t.input.request.details,(function(e,i){return[r("v-col",{key:"sub-bc-"+i,attrs:{cols:"12",md:"4"}},[r("div",{staticClass:"caption primary--text text-capitalize"},[t._v("\n                  "+t._s("["+(i+1)+"] "+t.$translate("text.budget_code"))+"\n                ")]),t._v(" "),r("v-text-field",{attrs:{"prepend-inner-icon":"mdi-newspaper-variant",value:e.budget_code.code+"-"+e.budget_code.name,label:t.$translate("text.budget_code","capitalize"),messages:t.$translate("helper.messages.auto","capitalize"),solo:"",readonly:""}})],1),t._v(" "),r("v-col",{key:"sub-bc-nm-"+i,attrs:{cols:"12",md:"4"}},[r("div",{staticClass:"caption primary--text text-capitalize"},[t._v("\n                  "+t._s("["+(i+1)+"] "+t.$translate("text.use"))+"\n                ")]),t._v(" "),r("v-text-field",{attrs:{solo:"",type:"number","prepend-inner-icon":"mdi-cash",rules:[t.rules.required],label:t.$translate("text.use","capitalize"),messages:t._f("currency")(t.input.budgets[i].nominal),clearable:""},on:{change:function(e){return t.setSingleBudget(i)}},model:{value:t.input.budgets[i].nominal,callback:function(e){t.$set(t.input.budgets[i],"nominal",e)},expression:"input.budgets[i].nominal"}})],1),t._v(" "),r("v-col",{key:"sub-bc-bl-"+i,attrs:{cols:"12",md:"4"}},[r("div",{staticClass:"caption primary--text text-capitalize"},[t._v("\n                  "+t._s("["+(i+1)+"] "+t.$translate("text.balance"))+"\n                ")]),t._v(" "),r("v-text-field",{attrs:{value:t.input.budgets[i].balance,solo:"",type:"number","prepend-inner-icon":"mdi-cash",label:t.$translate("text.balance","capitalize"),messages:t._f("currency")(t.input.budgets[i].balance),hint:t.$translate("helper.messages.auto","capitalize"),readonly:""}})],1),t._v(" "),r("v-divider",{key:"div-"+i})]}))],2)]:t._e(),t._v(" "),r("v-row",[r("v-col",{attrs:{cols:"12",md:"6"}},[r("div",{staticClass:"caption primary--text text-capitalize"},[t._v("\n              "+t._s("total "+t.$translate("text.use"))+"\n            ")]),t._v(" "),r("v-text-field",{attrs:{value:t.input.use,"prepend-inner-icon":"mdi-cash",prefix:"Rp",solo:"",label:t.$translate("text.use","capitalize"),hint:t._f("currency")(t.input.use),type:"number",readonly:""}})],1),t._v(" "),r("v-col",{attrs:{cols:"12",md:"6"}},[r("div",{staticClass:"caption primary--text text-capitalize"},[t._v("\n              "+t._s(t.$translate("text.amount_in_word")+" "+t.$translate("text.use","capitalize"))+"\n            ")]),t._v(" "),r("v-text-field",{attrs:{value:t._f("capitalize")(t.$terbilang(t.input.use)),label:t.$translate("text.amount_in_word","capitalize")+" "+t.$translate("text.use"),messages:t.$translate("helper.messages.auto","capitalize"),readonly:"",solo:""}})],1),t._v(" "),r("v-col",{attrs:{cols:"12",md:"6"}},[r("div",{staticClass:"caption primary--text text-capitalize"},[t._v("\n              "+t._s("total "+t.$translate("text.balance"))+"\n            ")]),t._v(" "),r("v-text-field",{attrs:{value:t.input.balance,"prepend-inner-icon":"mdi-cash-multiple",prefix:"Rp",solo:"",label:t.$translate("text.balance","capitalize"),hint:t._f("currency")(t.input.balance),type:"number",readonly:""}})],1),t._v(" "),r("v-col",{attrs:{cols:"12",md:"6"}},[r("div",{staticClass:"caption primary--text text-capitalize"},[t._v("\n              "+t._s(t.$translate("text.amount_in_word")+" "+t.$translate("text.balance","capitalize"))+"\n            ")]),t._v(" "),r("v-text-field",{attrs:{value:t._f("capitalize")(t.$terbilang(t.input.balance)),label:t.$translate("text.amount_in_word","capitalize")+" "+t.$translate("text.balance"),messages:t.$translate("helper.messages.auto","capitalize"),readonly:"",solo:""}})],1)],1),t._v(" "),r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("div",{staticClass:"caption primary--text text-capitalize"},[t._v("\n              "+t._s(t.$translate("text.note"))+"\n            ")]),t._v(" "),r("v-textarea",{attrs:{counter:"",solo:"",label:t.$translate("text.note","capitalize"),clearable:""},model:{value:t.input.notes,callback:function(e){t.$set(t.input,"notes",e)},expression:"input.notes"}})],1)],1)],2)],1),t._v(" "),r("v-card-actions",{staticClass:"pa-5"},[t.loading.buttonStore?[r("circular-loading")]:[r("v-btn",{attrs:{block:"","x-large":"",dark:"",color:"secondary",elevation:"8"},on:{click:function(e){return e.stopPropagation(),t.storeSubmission()}}},[t._v(t._s(t.$translate("components.button.submit")))])]],2)],1),t._v(" "),r("v-dialog",{attrs:{"max-width":"600",persistent:""},model:{value:t.modal.request,callback:function(e){t.$set(t.modal,"request",e)},expression:"modal.request"}},[r("v-card",[r("v-card-title",{staticClass:"text-uppercase title"},[t._v(t._s(t.$translate("components.form.title.request")))]),t._v(" "),r("v-card-text",[r("div",{staticClass:"spacing-xsmall"}),t._v(" "),r("div",{staticClass:"caption primary--text text-capitalize"},[t._v("\n          "+t._s(t.$translate("text.information"))+"\n        ")]),t._v(" "),r("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[r("tbody",[r("tr",[r("td",{staticClass:"caption font-weight-bold text-capitalize"},[t._v("\n                  "+t._s(t.$translate("text.allocation"))+"\n                ")]),t._v(" "),r("td",{staticClass:"text-capitalize"},[t._v("\n                  "+t._s(t.currentRequest.allocation)+"\n                ")])]),t._v(" "),r("tr",[r("td",{staticClass:"caption font-weight-bold text-capitalize"},[t._v("\n                  "+t._s(t.$translate("text.payment_type"))+"\n                ")]),t._v(" "),r("td",[t._v(t._s(t.currentRequest.method))])]),t._v(" "),r("tr",[r("td",{staticClass:"caption font-weight-bold text-capitalize"},[t._v("\n                  "+t._s(t.$translate("text.amount"))+"\n                ")]),t._v(" "),r("td",[t._v(t._s(t._f("currency")(t.currentRequest.amount)))])])])]},proxy:!0}])}),t._v(" "),r("v-divider"),t._v(" "),r("div",{staticClass:"spacing-xsmall"}),t._v(" "),r("div",{staticClass:"caption primary--text text-capitalize"},[t._v("\n          "+t._s(t.$translate("text.budget_code"))+"\n        ")]),t._v(" "),r("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[r("tbody",[t._l(t.currentRequest.details,(function(e,i){return[r("tr",{key:"detail"+i},[r("td",[t._v(t._s(e.budget_code.code))]),t._v(" "),r("td",[t._v(t._s(e.budget_code.name))]),t._v(" "),r("td",[t._v(t._s(e.nominal))])])]}))],2)]},proxy:!0}])}),t._v(" "),r("v-divider")],1),t._v(" "),r("v-card-actions",[r("v-row",{staticClass:"ma-0"},[r("v-col",[r("v-btn",{attrs:{block:"",color:"secondary"},on:{click:function(e){e.stopPropagation(),t.modal.request=!1}}},[t._v("Tutup")])],1)],1)],1)],1)],1),t._v(" "),r("snackbar-alert",{attrs:{success:t.success,messages:t.messages},model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}})],1)}),[],!1,null,"1902222a",null);e.default=component.exports;d()(component,{VBtn:v.a,VCard:h.a,VCardActions:m.a,VCardSubtitle:m.b,VCardText:m.c,VCardTitle:m.d,VCol:f.a,VCombobox:_.a,VContainer:x.a,VDialog:y.a,VDivider:$.a,VForm:k.a,VRow:w.a,VSimpleTable:z.a,VTextField:C.a,VTextarea:R.a})}}]);