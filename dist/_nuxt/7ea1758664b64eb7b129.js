(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{390:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(52),l=n(0),o=Object(l.h)("v-toolbar__title"),c=Object(l.h)("v-toolbar__items");r.a},405:function(t,e){t.exports={MenungguPersetujuan:"Menunggu Persetujuan",MenungguPembayaran:"Menunggu Pembayaran",Terbayarkan:"Terbayarkan",MenungguSubmisi:"Menunggu Submisi",VerifikasiSubmisi:"Verifikasi Submisi",Selesai:"Selesai",Ditolak:"Ditolak"}},612:function(t,e,n){"use strict";n.r(e);n(38);var r=n(14),l=(n(21),n(23),n(87),n(33),n(34),n(5),n(28),n(18),n(405)),o={filters:{currency:function(t){var e=Number(t)<0;if(null==t||""===t)return"Rp 0";if(t.toString().split(".").length>2)return"Rp ~";t.toString().split(".").length>1&&(t=(t=t.toString().split("."))[0]);try{return"Rp "+(!0===e?"-":"")+t.toString().match(/\d{1,3}(?=(\d{3})*$)/g).join(".")}catch(t){return"Rp ~"}}},data:function(){return{alert:!1,success:!1,rawData:!1,messages:"",search:"",dialogDelete:!1,currentId:null,loading:{onDelete:!1},headers:[{text:"".concat(this.$translate("text.date","capitalize")),value:"date"},{text:"".concat(this.$translate("text.allocation","capitalize")),value:"allocation"},{text:"".concat(this.$translate("text.use","capitalize")),value:"used"},{text:"".concat(this.$translate("text.balance","capitalize")),value:"balance"},{text:"".concat(this.$translate("text.pic","capitalize")),value:"pic.name"},{text:"".concat(this.$translate("text.status","capitalize")),value:"status.status"},{text:"".concat(this.$translate("text.number","capitalize")),value:"number"},{text:"".concat(this.$translate("text.action","capitalize")),value:"id",sortable:!1,align:"center"}],items:[]}},computed:{isAdmin:function(){return this.$auth.user.roles_list.map((function(t){return t.toLowerCase()})).includes("admin")}},mounted:function(){this.getAllSubmissionForms()},methods:{popupDialogDelete:function(t){this.dialogDelete=!0,this.currentId=t},isAllowedToDelete:function(t){return![l.Terbayarkan,l.MenungguSubmisi,l.VerifikasiSubmisi].includes(t)},getAllSubmissionForms:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api("submission","index",null);case 3:t.items=e.sent,e.next=11;break;case 6:e.prev=6,e.t0=e.catch(0),t.success=!1,t.messages="".concat(t.$translate("alert.error","capitalize"))+e.t0.toString(),t.alert=!0;case 11:case"end":return e.stop()}}),e,null,[[0,6]])})))()},deleteSubmission:function(t){var e=this;try{this.loading.onDelete=!0,this.$api("submission","delete",this.currentId).finally((function(){e.getAllSubmissionForms(),e.dialogDelete=!1,e.loading.onDelete=!1}))}catch(t){this.success=!1,this.messages="".concat(this.$translate("alert.error","capitalize"))+t.toString(),this.alert=!0,this.loading.onDelete=!1}}}},c=n(30),d=n(39),v=n.n(d),m=n(167),_=n(157),f=n(57),x=n(377),h=n(603),k=n(387),D=n(138),$=n(158),y=n(99),S=n(70),V=n(561),w=n(384),C=n(401),z=n(52),T=n(390),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-card",{staticClass:"mx-5 py-5 front-card",attrs:{color:"primary",dark:"",raised:""}},[n("v-card-title",{staticClass:"text-uppercase"},[n("span",[t._v(t._s(t.$translate("components.table.title.submission")))]),t._v(" "),n("v-spacer"),t._v(" "),n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({attrs:{dark:"",icon:""}},r),[n("v-icon",[t._v("mdi-dots-vertical")])],1)]}}])},[t._v(" "),n("v-list",[n("v-list-item",{on:{click:function(e){return e.stopPropagation(),t.$export("pdf","submission",null)}}},[n("v-list-item-title",{staticClass:"text-capitalize"},[t._v("\n              "+t._s(t.$translate("export.pdf"))+"\n            ")])],1),t._v(" "),n("v-list-item",{on:{click:function(e){return e.stopPropagation(),t.$export("excel","submission",null)}}},[n("v-list-item-title",{staticClass:"text-capitalize"},[t._v("\n              "+t._s(t.$translate("export.excel"))+"\n            ")])],1),t._v(" "),n("v-list-item",{on:{click:function(e){e.stopPropagation(),t.rawData=!0}}},[n("v-list-item-title",{staticClass:"text-capitalize"},[t._v("\n              "+t._s(t.$translate("text.rawData"))+"\n            ")])],1)],1)],1)],1),t._v(" "),n("v-card-subtitle",{staticClass:"overline"},[t._v("\n      "+t._s(t.$translate("components.table.subtitle.submission"))+"\n    ")]),t._v(" "),n("v-card-text",{staticClass:"px-5"},[n("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:t.$translate("text.search","capitalize"),solo:"","single-line":"",light:!t.$vuetify.theme.dark,"hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),t._v(" "),n("v-card",{staticClass:"back-card px-md-5",attrs:{raised:""}},[n("v-card-text",[n("div",{staticClass:"spacing-medium"}),t._v(" "),n("v-data-table",{attrs:{headers:t.headers,items:t.items,search:t.search},scopedSlots:t._u([{key:"item.use",fn:function(e){var n=e.item;return[t._v("\n          "+t._s(t._f("currency")(n.use))+"\n        ")]}},{key:"item.balance",fn:function(e){var n=e.item;return[t._v("\n          "+t._s(t._f("currency")(n.balance))+"\n        ")]}},{key:"item.id",fn:function(e){var r=e.item;return[n("v-btn",{attrs:{color:"secondary",small:"",text:"",to:"/detail/submission/"+r.id}},[t._v("Detail")]),t._v(" "),t.isAdmin&&t.isAllowedToDelete(r.status.status)?n("v-btn",{attrs:{color:"red",small:"",text:""},on:{click:function(e){return e.stopPropagation(),t.popupDialogDelete(r.id)}}},[t._v(t._s(t.$translate("components.button.delete")))]):t._e()]}}])})],1)],1),t._v(" "),n("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.rawData,callback:function(e){t.rawData=e},expression:"rawData"}},[n("v-card",[n("v-toolbar",{attrs:{dark:"",color:"accent"}},[n("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.rawData=!1}}},[n("v-icon",[t._v("mdi-close")])],1),t._v(" "),n("v-toolbar-title",[t._v(t._s(t.$translate("text.rawData")))]),t._v(" "),n("v-spacer")],1),t._v(" "),n("v-card-text",[n("pre",[t._v(t._s(t.items))])])],1)],1),t._v(" "),n("snackbar-alert",{attrs:{success:t.success,messages:t.messages},model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}}),t._v(" "),n("dialog-alert",{attrs:{title:t.$translate("text.sure_delete_head"),message:t.$translate("text.sure_delete_body"),load:t.loading.onDelete},on:{no:function(e){t.dialogDelete=!1},yes:t.deleteSubmission},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[n("circular-loading")],1)],1)}),[],!1,null,"e8a76d4a",null);e.default=component.exports;v()(component,{VBtn:m.a,VCard:_.a,VCardSubtitle:f.b,VCardText:f.c,VCardTitle:f.d,VContainer:x.a,VDataTable:h.a,VDialog:k.a,VIcon:D.a,VList:$.a,VListItem:y.a,VListItemTitle:S.c,VMenu:V.a,VSpacer:w.a,VTextField:C.a,VToolbar:z.a,VToolbarTitle:T.a})}}]);